FX = 
{
  Effects =
  {
    ['Art_gold']  = 'Artefacts/General/Gold',
    ['Art_blue']  = 'Artefacts/General/Blue',
    ['Art_green'] = 'Artefacts/General/Green',
    ['Art_red']   = 'Artefacts/General/Red',
    ['Druid_ring'] = 'Towns/Rampart/RingOfStones',

    ['Fire_glow'] = 'Spells/FireGlow.(Effect)',
    ['Campfire']  = 'Buildings/Campfire',
    ['Big_fire_1'] = 'Towns/Inferno/MagicGuild',
    ['Fakel_2']    = 'Buildings/Objects_Sabterra/fakel.(Effect) (2)',
    ['Fakel_3']    = 'Buildings/Objects_Sabterra/fakel.(Effect) (2) (2) (2)',
    ['Fakel_dbl']  = 'Buildings/Objects_Sabterra/fakel.(Effect) (2) (2) (2) (2) (2)',

    ['Fireball']            = 'Spells/FireBallHit',
    ['Implosion']           = 'Spells/Implosion',
    ['Lightning_bolt']      = 'Spells/LightningBolt',
    ['Ice_bolt']            = 'Spells/IceBolt',
    ['Animate_dead']        = 'Spells/AnimateDead',
    ['Arcane_crys_start']   = 'Spells/FX_Arcane_Crystal/Arcane_Crystal_Start.(Effect)',
    ['Arcane_crys_death']   = 'Spells/FX_Arcane_Crystal/Arcane_Crystal_Death.(Effect)',
    ['Stoneskin']           = 'Spells/StoneSkin',
    ['Holy_word']           = 'Spells/HolyWord',
    ['Unholy_word']         = 'Spells/UnholyWord',
    ['Divine_venge']        = 'Spells/DivineVengeance/FX_DivineVengeance.(Effect)',
    ['Berserk']             = 'Spells/Berserk',
    ['Blind']               = 'Spells/Blind',
    ['Hypnotize']           = 'Spells/hypnotize',
    ['Forgetfulness']       = 'Spells/Forgetfulness',
    ['Earthquake']          = 'Spells/Earthquake',
    ['StoneSpikes']         = 'Spells/StoneSpikes.(Effect)',
    ['Firewall']            = 'Spells/FireWall.(Effect)',
    ['Firewall_end']        = 'Spells/FireWall_end.(Effect)',
    ['Plague']              = 'Spells/Plague',
    ['Curse']               = 'Spells/Curse',
    ['Bless']               = 'Spells/Bless',
    ['Bloodlust']           = 'Spells/Bloodlust',
    ['Phantom_in']          = 'Spells/Phantom_In',
    ['Phantom_out']         = 'Spells/Phantom_Out',
    ['Town_portal']         = 'Spells/townportal_start',
    ['Dimension_door']      = 'Spells/DimesionDoorEnd',
    ['Blade_barrier']       = 'Spells/Blade_Barrier/Blade_Barrier.(Effect)',
    ['Blade_barrier_start'] = 'Spells/Blade_Barrier/Blade_Barrier.start.(Effect)',
    ['Blade_barrier_death'] = 'Spells/Blade_Barrier/Blade_Barrier.death.(Effect)',
    ['Deep_freeze']         = 'Spells/DeepFreeze/DeepFreeze.(Effect)',
    ['Summon_hive_start']   = 'Spells/SummonHive/SummunHive_Start.(Effect)',
    ['Summon_hive_attack']  = 'Spells/SummonHive/SummunHive_Attack.(Effect)',
    ['Summon_hive_death']   = 'Spells/SummonHive/SummunHive_Start.(Effect)',
    ['Vampirism']           = 'Spells/Vampitizm/Vampirizm.(Effect)',
    ['Antimagic']           = 'Spells/Anti-magic',
    ['Armageddon']          = 'Spells/Armageddon',
    ['Celestial_shield']    = 'Spells/CelestialShield',
    ['Deflect_arrows']      = 'Spells/DeflectArrows',
    ['Dispel']              = 'Spells/Dispel',
    ['Dispel_fail']         = 'Spells/Dispel_fail',
    ['Disrupting_ray']      = 'Spells/DisruptingRay',
    ['Frost_ring']          = 'Spells/FrostRing',
    ['Haste']               = 'Spells/Haste',
    ['Meteor_shower']       = 'Spells/MeteorShower',
    ['Regeneration']        = 'Spells/Regeneration.(Effect)',
    ['Resurrect']           = 'Spells/Resurrect',
    ['Slow']                = 'Spells/Slow',
    ['Wasp_swarm']          = 'Spells/WaspSwarm',
    ['Weakness']            = 'Spells/Weakness',


    ['Titan_idle'] = 'Characters/Creatures/Academy/Titan/idle00',
    ['Big_crys']   = 'Towns/Dungeon/Mg.(Effect)',

    ['Summon_balor'] = 'Characters/SummonBalor',
    ['Summon_fire']  = 'Spells/SummonElementals/Fire',
    ['Summon_water'] = 'Spells/SummonElementals/Water',
    ['Summon_earth'] = 'Spells/SummonElementals/Earth',
    ['Summon_wind']  = 'Spells/SummonElementals/Wind',
    ['Unsummon']     = 'Characters/UnsummonCreature',

    ['Gating_small'] = 'Characters/Gating_mark_small.(Effect)',
    ['Gating_big'] = 'Characters/Gating_mark_big.(Effect)',

    ['Ghost_curse'] = 'Modes/Ghost/Curse.(Effect)',
    ['Ghost_haunt'] = 'Modes/Ghost/Haunt.(Effect)',
    ['Ghost_guard'] = 'Modes/Ghost/Guard.(Effect)',
    ['Ghost_posses'] = 'Modes/Ghost/Posses.(Effect)',

    ['Necro_amp'] = 'Towns/Necropolis/NecromancyAmplifier',
    ['Ruined_tower'] = 'Buildings/Dwellings/Necropolis/Ruined_Tower',
    ['Dragon_grave'] = 'Towns/Necropolis/DragonGraveyard',
    ['Necro_big_glow'] = 'Towns/Necropolis/BigGlow', -- ������� ������� ��������
    ['Necro_big_fog'] = 'Towns/Necropolis/BigFog01', -- ������ ������� �����

    ['Ballista_attack'] = 'Characters/WarMachines/Ballista_WildFire/rangeattack.(Effect)',
    ['Ballista_charge'] = 'Characters/WarMachines/Ballista_WildFire/charge.(Effect)',
    ['Sabotage']        = 'Spells/Sabotage.(Effect)',

    ['Ritual_pit'] = 'Towns/Dungeon/Ritual_Pit.(Effect)',
    ['Dung_townhall'] = 'Towns/Dungeon/Townhall.(Effect)',
    ['Wicked_pastures'] = 'Towns/Dungeon/Wicked_Pastures.(Effect)',
    ['_Matron_small'] = '/MapObjects/Dungeon/Custom_dwell_matron/Wicked_Pastures.(Effect)', -- 2 ������� ���������� ����
    ['Elem_altar_01'] = 'Towns/Dungeon/Altar_of_elements01.(Effect)', -- ������(������� ������� z)
    ['Elem_seal'] = 'Towns/Dungeon/Altar_of_elements01.(Effect) (2)', -- �� �� ������, �� ������������ � ��������� z

    ['Necro_wall'] = 'Arenas/FinalFight/Wall.(Effect)',
    ['Necro_wall_destroy'] = 'Arenas/FinalFight/Wall_Crash.(Effect)',

    ['Monolith_one_way'] = 'Buildings/Monolith_One_Way_Entrance.(Effect)',
    ['Monolith_two_way'] = 'Buildings/Monolith_Two_Way_Entrance',

    ['Roots_start'] = 'Characters/Creatures/Preserve/dendroid/EntanglingRoots_start.(Effect)',
    ['Roots_end']   = 'Characters/Creatures/Preserve/dendroid/EntanglingRoots_end.(Effect)',
    ['Treant_hit'] = 'Characters/hits/dendroidsoldier_hit',

    ['Blood_rage'] = 'Spells/Warcry/Call_of_Blood/Call_of_Blood_3.(Effect)',

    ['Battlerage_rune'] = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Battlerage.(Effect)',
    ['Berserk_rune']    = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Berserking.(Effect)',
    ['Charge_rune']     = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Charge.(Effect)',
    ['Dragonform_rune'] = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Dragonform.(Effect)',
    ['Spellimmun_rune'] = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Elemental_Immunity.(Effect)',
    ['Ethereal_rune']   = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Etherealness.(Effect)',
    ['Exorcism_rune']   = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Exorcism.(Effect)',
    ['Magcontrol_rune'] = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Magic_Control.(Effect)',
    ['Revive_rune']     = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Revive.(Effect)',
    ['Stunning_rune']   = 'Characters/Creatures/Dwarves/RunesFX/Rune_of_Stunning.(Effect)'
  },

  Sounds =
  {
    ['Fireball']            = 'Spells/FireBallHit',
    ['Implosion']           = 'Spells/Implosion',
    ['Ice_bolt']            = 'Spells/IceBolt',
    ['Animate_dead']        = 'Spells/AnimateDead',
    ['Lightning_bolt']      = 'Spells/LightningBolt',
    ['Arcane_crys_start']   = 'Spells/ArcaneCrystal_start',
    ['Arcane_crys_death']   = 'Spells/ArcaneCrystal_death',
    ['Stoneskin']           = 'Spells/StoneSkin',
    ['Divine_venge']        = 'Spells/DivineVengeance',
    ['Holy_word']           = 'Spells/HolyWord_______253',
    ['Unholy_word']         = 'Spells/UnholyWord',
    ['Earthquake']          = 'Spells/Earthquake',
    ['Plague']              = 'Spells/Plague',
    ['Berserk']             = 'Spells/Berserk',
    ['Hypnotize']           = 'Spells/Hypnotize',
    ['Blind']               = 'Spells/Blind',
    ['Forgetfulness']       = 'Spells/Forgetfulness',
    ['Bless']               = 'Spells/bless',
    ['Curse']               = 'Spells/Curse',
    ['Town_portal']         = 'Spells/TownTeleportStart',
    ['Antimagic']           = 'Spells/Antimagic',
    ['Armageddon']          = 'Spells/Armageddon',
    ['Blade_barrier_start'] = 'Spells/BladeBarrier_start',
    ['Blade_barrier_death'] = 'Spells/BladeBarrier_death',
    ['Bloodlust']           = 'Spells/BloodLust',
    ['Celestial_shield']    = 'Spells/CelestialShield',
    ['Deep_freeze']         = 'Spells/DeepFreeze',
    ['Deflect_arrows']      = 'Spells/DeflectArrows',
    ['Dimension_door']      = 'Spells/DimensionDoor_End',
    ['Dispel']              = 'Spells/Dispel',
    ['Dispel_fail']         = 'Spells/DispelFail',
    ['Disrupting_ray']      = 'Spells/DisruptingRay',
    ['Firewall']            = 'Spells/FireWall',
    ['Firewall_end']        = 'Spells/FireWall_end',
    ['Frost_ring']          = 'Spells/FrostRing',
    ['Haste']               = 'Spells/Haste',
    ['Meteor_shower']       = 'Spells/MeteorShower',
    ['Phantom_in']          = 'Spells/Phantom-In',
    ['Phantom_out']         = 'Spells/Phantom-Out',
    ['Regeneration']        = 'Spells/Regeneration',
    ['Resurrect']           = 'Spells/Resurrect',
    ['Slow']                = 'Spells/Slow',
    ['Sorrow']              = 'Spells/Sorrow',
    ['Summon_hive_start']   = 'Spells/SummonHive_start',
    ['Summon_hive_attack']  = 'Spells/SummonHive_attack00',
    ['Summon_hive_death']   = 'Spells/SummonHive_death',
    ['Vampirism']           = 'Spells/Vampirism',
    ['Wasp_swarm']          = 'Spells/WaspSwarm',
    ['Weakness']            = 'Spells/Weakness',
  
    ['Blood_rage']  = 'Spells/Warcry/Call_of_Blood',
    ['Summon_fire'] = 'Spells/SummonFire',
    ['Summon_water'] = 'Spells/SummonWater',
    ['Summon_earth'] = 'Spells/SummonEarth',
    ['Summon_wind'] = 'Spells/SummonWind',
  },

  Race =
  {
    [TOWN_HEAVEN] = "/Effects/_(Effect)/Buildings/Capture/Haven/0",
    [TOWN_INFERNO] = "/Effects/_(Effect)/Buildings/Capture/Inferno/0",
    [TOWN_NECROPOLIS] = "/Effects/_(Effect)/Buildings/Capture/Necropolis/0",
    [TOWN_PRESERVE] = "/Effects/_(Effect)/Buildings/Capture/Sylvan/0",
    [TOWN_DUNGEON] = "/Effects/_(Effect)/Buildings/Capture/Dungeon/0",
    [TOWN_ACADEMY] = "/Effects/_(Effect)/Buildings/Capture/Academy/0",
    [TOWN_FORTRESS] = "/Effects/_(Effect)/Buildings/Capture/Fortress/0",
    [TOWN_STRONGHOLD] = "/Effects/_(Effect)/Buildings/Capture/Orcs/0"
  },

  Play =
  ---Обертка над PlayVisualEffect, позволяет удобнее проигрывать эффекты
  ---@param effect string имя эффекта из FX.Effects
  ---@param object string объект, на котором будет проигран эффект
  ---@param tag string скриптовое имя эффекта
  ---@param x number смещение по оси x
  ---@param y number смещение по оси y
  ---@param z number смещение по оси z
  ---@param rot number угол поворота эффекта
  ---@param f MapLevel уровень карты
  function(effect, object, tag, x, y, z, rot, f)
    local actual_effect = string.spread(effect)[1]
    if actual_effect == '_' then
      actual_effect = FX.Effects[effect]..'.xdb#xpointer(/Effect)'
    else
      actual_effect = '/Effects/_(Effect)/'..FX.Effects[effect]..'.xdb#xpointer(/Effect)'
    end
    --print('effect 2: ', actual_effect)
    tag = tag or ''
    x = x or 0
    y = y or 0
    z = z or 0
    rot = rot or 0
    local _x, _y, _f = 0, 0, 0
    if object and object ~= '' then
      _x, _y, _f = GetObjectPosition(object)
      f = f or _f
    else
      _x, _y, _f = x, y, f
    end
    PlayVisualEffect(actual_effect, object, tag, x, y, z, rot, f)
    --print('ok?')
    if FX.Sounds[effect] then
      Play3DSound('/Sounds/_(Sound)/'..FX.Sounds[effect]..'.xdb#xpointer(/Sound)', _x, _y, _f)
    end
  end
}